<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <script>
        function upload(){
            var inputObj=document.createElement('input')
            inputObj.setAttribute('type','file');
            document.body.appendChild(inputObj);
            inputObj.click();
        }
        function confirm(){
            const name=document.getElementById("name").value;
            const author=document.getElementById("author").value;
            const publish=document.getElementById("publish").value;
            var date=document.getElementById("date").value;
            const num=document.getElementById("num").value;
            if(name==""||author==""||publish==""||date==""||num==""){
                alert("输入不能为空");
                return;
            }
            if(num < 0){
                alert("库存数量不能小于0");
            }
            var nowDate=new Date();
            var nowYear=nowDate.getFullYear();
            var nowMonth=nowDate.getMonth();
            var inputYear=date.split("-")[0];
            var inputMonth=date.split("-")[1];
            if(inputYear > nowYear){
                alert("出版日期错误");
                return;
            }else if(inputYear == nowYear){
                if(inputMonth > nowMonth+1){
                    alert("出版日期错误");
                    return;
                }
            }
            alert("登记成功");
        }
    </script>
    <style>
        .input input{
            display: block;
            border-bottom: 2px black solid;
            background-color: transparent;
            font-size: 17px;
        }
        #confirm{
            position: relative;
            margin-top: 10px;
            font-size: 1.4rem;
            background-color: #00b3b4;
        }
    </style>
</head>
<body>
<div class="input">
    <span>图书名称：</span>
    <input type="text" placeholder="请输入图书名称" id="name"/>
    <span>作者：</span>
    <input type="text" placeholder="请输入作者" id="author"/>
    <span>出版社：</span>
    <input type="text" placeholder="请输入出版社" id="publish"/>
    <span>出版日期：</span>
    <input type="text" placeholder="请输入日期(格式：yyyy-mm)" id="date"/>
    <span>库存数量：</span>
    <input type="text" placeholder="请输入库存数量" id="num"/>
    <span>选择封面：</span>
    <button onclick="upload()">选择图片</button>
</div><br>
<button id="confirm" onclick="confirm()">确认登记</button>
</body>
</html>